## Misc. TODOs

- [x] Replace auth code modal with a local http server that listens for the redirect?
- [ ] Support multiple accounts per source?
- [ ] Custom errors
- [x] Handle heading levels other than the ## (h2) needed for the Kanban plugin, or restrict to h2 only
- [ ] Add option to sync to top of file instead of under a heading (?)
- [x] Normalise heading input in settings tab to H2 (## Heading)
- [x] Make it so that when a list is deselected in the settings, items under the target heading are removed on the next sync but items in other columns (which the user may have moved there and wants to keep) are preserved
  - [ ] Add a warning in the settings that deselecting items will remove them from the file (or just the target column if the above is implemented) on the next sync
  - [ ] Add an option to either delete all synced items from the file when a list is deselected or only delete the items under the target heading (?)
- [ ] Maybe add a "clear all synced items" button to settings to make it easy to reset
- [ ] Use `git filter-repo` to remove the hardcoded Google client ID and secret from `esbuild.config.mjs` git history (even though they're deleted in GCP, I would still like to remove them)
- [ ] Use `node-version-file: .nvmrc` in GitHub Actions `build.yml` instead of hardcoding Node version
- [ ] Rename `development` environment to `daniel-dev`; provide instructions for setting up personal dev environment (?)
- [ ] Better separate individual dev and prod (`main` branch) environments in GitHub Actions workflows
- [ ] Separate unit tests and integration tests
- [ ] Reduce use of mocks in tests
- [ ] Enforce importing barrel files?
- [ ] `heading` -> `targetHeading` or `syncHeading` throughout codebase
- [ ] Lint rule to enforce official TSDoc comment spec
- [ ] Set up `main` branch protection rules
- [ ] Check behaviour when Markdown file isn't a Kanban plugin Markdown file; fix if broken
- [ ] Test more complete/uncomplete Obsidian/Google scenarios (e.g., what should happen when an incomplete task in Obsidian is uncompleted in Google)
- [ ] Look into whether realtime bidirectional Obsidan-Tasks syncing is possible
- [ ] Fix metadata bug which makes HTML comment visible in Kanban plugin view if Tasks URL includes HTML comment "--" characters (escape them?)
- [ ] Fix issue when deselecting lists triggers Tasks deletion sync prompt (should just remove them from Obsidian but not Google)
- [ ] Replace removed info console logging with dev-only file logging?
